<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="layout/template.xhtml">
     
<ui:define name="body">
	<h:form id="concentartionForm">
		<rich:panel>
		<h:outputText value="Enter Keyword to search"/>
		<h:inputText style="margin-left:1%" />
		<a4j:commandButton value="Search" styleClass="btnStyle" style="margin-left:1%" />
		<a4j:commandButton value="Reset" styleClass="btnStyle" style="margin-left:1%"/>
		<br/><br/>
		
			<rich:dataTable id="conTab" value="#{concentrationBean.conList}" iterationStatusVar="itVar" var="con" rows="10" style="width:100%" noDataLabel="No Records Found">

			<f:facet name="header">
				<rich:columnGroup>	            
		            <rich:column>
		                <h:outputText value="Sl No." />
		            </rich:column>				
	                <rich:column>
	                	<h:outputText value="Concentration Name" />
	                </rich:column>
	                <rich:column>
	                    <h:outputText value="Degree Code" />
	                </rich:column>
	                <rich:column>
	                    <h:outputText value="Faculty name" />
	                </rich:column>
	                <rich:column>
	                    <h:outputText value="Status" />
	                </rich:column> 
	                <rich:column>
	                	<h:outputText value="Edit"/>
	                </rich:column>              
	            </rich:columnGroup>
			</f:facet>
				<rich:column>
                <h:outputText value="#{itVar.index+1}" />               
            </rich:column>
            <rich:column>
                <h:outputText value="#{con.concentrationName}" />                   
            </rich:column>
            <rich:column>
                <h:outputText value="#{con.degreeCode}" />                   
            </rich:column>
             <rich:column>
                <h:outputText value="#{con.facultyName}" />                   
            </rich:column>
            <rich:column>
                <h:outputText value="#{con.status}" />               
            </rich:column>
            <rich:column style="text-align: center;">
            	<a4j:commandButton render="editPopUp" title="Edit" image="/img/edit.gif" actionListener="#{concentrationMgr.editConcentration(con)}" >
            	</a4j:commandButton>
            </rich:column>
			</rich:dataTable>
			<br/>
			<a4j:commandButton value="Add" render="addPopUp" actionListener="#{concentrationMgr.addConcentration}"/>
		</rich:panel>
		
		<rich:popupPanel id="editPopUp" header="Edit Concentration" show="#{concentrationBean.visibleFalg}" domElementAttachment="form">
			<h:panelGrid columns="2">
				<h:outputLabel value="Concentration Name : " />
				
				<h:outputLabel value="Degree Code : "/>
				
				<h:outputLabel value="Concentration Faculty : "/>
				
				<h:outputLabel value="Status : " />
				
				
			</h:panelGrid>
			<a4j:commandButton style="float:right;" actionListener="#{concentrationMgr.resetValues}" oncomplete="#{rich:component('editPopUp')}.hide();"  value="Cancel" />
			<a4j:commandButton style="float:right;" value="Save" render="conTab" actionListener="#{concentrationMgr.saveEditedConcentration}" oncomplete="#{rich:component('editPopUp')}.hide();" />
		</rich:popupPanel>
		
		<rich:popupPanel width="670" height="130" id="addPopUp"  modal="true" header="Add Concentration" show="#{concentrationBean.visibleFalg}" domElementAttachment="form">			
					
			<h:panelGrid columns="4">
				<h:outputLabel value="Concentration Name : " />
				<h:inputText value="#{concentrationBean.concentrationName}"/>
				<h:outputLabel value="Degree Code : "/>
				<h:inputText value="#{concentrationBean.degreeCode}"/>
				<h:outputLabel value="Concentration Faculty : "/>
				<h:selectOneMenu value="#{concentrationBean.confacultyId}" >
				<f:selectItem itemValue="0" itemLabel="--SELECT--"/>
				<f:selectItems value="#{concentrationBean.advisorUsers}" var="item" itemLabel="#{item[0]}" itemValue="#{item[1]}" />
				</h:selectOneMenu>
				<h:outputLabel value="Status : " />
				<h:selectOneRadio value="#{concentrationBean.status}">
					<f:selectItem itemLabel="ACTIVE" itemValue="ACTIVE"/>
					<f:selectItem itemLabel="INACTIVE" itemValue="INACTIVE"/>
				</h:selectOneRadio>
				
			</h:panelGrid>
			 
				<a4j:commandButton style="float:right;" actionListener="#{concentrationMgr.resetValues}" oncomplete="#{rich:component('addPopUp')}.hide();" value="Cancel" />
				<a4j:commandButton style="float:right;" render="conTab" value="Save" actionListener="#{concentrationMgr.saveConcentration}" oncomplete="#{rich:component('addPopUp')}.hide();"/>
			
		</rich:popupPanel>
	</h:form>
</ui:define>

</ui:composition>