<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
      "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
          "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<query name="getUserQ">
		<![CDATA[
			select user from User user where user.loginId=?1 and user.password=?2
		]]>
	</query>
	<query name="getAllUsers">
		<![CDATA[
			select user from User user
		]]>
	</query>
	<query name="getSearchUser">
		<![CDATA[
			select user from User user where user.loginId like ?1 
		]]>
	</query>
	
	<query name="getConcentrations">
		<![CDATA[
			select con.concentrationId, con.concentrationName from Concentration con 
		]]>
	</query>
	
	<query name="getAllStudents">
		<![CDATA[
			select student from Student student
		]]>
	</query>
	<query name="getAllConcentration">
		<![CDATA[
			select new com.mydomain.sps.bean.ConcentrationBean(con.concentrationId,con.concentrationName,con.degreeCode,con.active,user.userName) from Concentration con,ConcentrationFaculty conFac,User user 
			where con.concentrationId = conFac.concentrationId.concentrationId and conFac.faculty.userId = user.userId and user.active = 1
		]]>
	</query>
	<query name="getAllAdvisorUsers">
		<![CDATA[
			select user.userId,user.userName from User user where user.active=1 and user.role in ('Advisor')
		]]>
	</query>
	
</hibernate-mapping>